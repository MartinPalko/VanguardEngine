language: cpp

sudo: true

# Compile both GCC and Clang
compiler:
##- clang
- gcc

addons:
  apt:
    packages:
    - mono-complete

before_install:
- sudo add-apt-repository "ppa:ubuntu-toolchain-r/test" -y
- sudo apt-get update -qq
- sudo apt-get install -qq libyajl-dev libxml2-dev libxqilla-dev
- if [ "$CXX" = "clang++" ]; then sudo apt-get install -qq libstdc++-4.8-dev; fi
- if [ "$CXX" = "g++" ]; then sudo apt-get install -qq g++-4.8; fi
- if [ "$CXX" = "g++" ]; then export CXX="g++-4.8" CC="gcc-4.8"; fi

# Create makefile
before_script:
- ./Intermediate/CMake/Linux/bin/cmake -G "Unix Makefiles" ./Source

# Compile makefile
script: make
